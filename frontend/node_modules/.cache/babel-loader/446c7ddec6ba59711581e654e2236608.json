{"ast":null,"code":"var _jsxFileName = \"F:\\\\pushPullLab2\\\\chat-app-using-push-and-pull-technology-master\\\\frontend\\\\src\\\\ws-task1.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport './ws.css';\nimport io from 'socket.io-client'; // connect on the server\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Url = 'http://localhost:5000';\nconst socket = io(Url);\n\nconst WSgroupChat = () => {\n  _s();\n\n  const inputRef = useRef();\n  const messagesRef = useRef();\n  const [messages, setMessages] = useState([]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (inputRef.current.value) {\n      socket.emit('server group chat message', inputRef.current.value);\n      inputRef.current.value = '';\n    }\n  };\n\n  useEffect(() => {\n    socket.on('group chat message', function (msg) {\n      setMessages(prev => [...prev, msg]);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        ref: messagesRef,\n        id: \"messages\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Group chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        ref: messagesRef,\n        id: \"messages\",\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: message\n        }, Math.ceil(Math.random() * 10000), false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"form\",\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter your message\",\n          id: \"input\",\n          ref: inputRef,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WSgroupChat, \"oKziEEJ8YH8pDirkWyjmkr4ctvU=\");\n\n_c = WSgroupChat;\nexport default WSgroupChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"WSgroupChat\");","map":{"version":3,"names":["React","useEffect","useState","useRef","io","Url","socket","WSgroupChat","inputRef","messagesRef","messages","setMessages","submitHandler","e","preventDefault","current","value","emit","on","msg","prev","map","message","Math","ceil","random"],"sources":["F:/pushPullLab2/chat-app-using-push-and-pull-technology-master/frontend/src/ws-task1.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './ws.css';\nimport io from 'socket.io-client';\n\n// connect on the server\nconst Url = 'http://localhost:5000';\nconst socket = io(Url);\n\nconst WSgroupChat = () => {\n  const inputRef = useRef();\n  const messagesRef = useRef();\n  const [messages, setMessages] = useState([]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (inputRef.current.value) {\n      socket.emit('server group chat message', inputRef.current.value);\n      inputRef.current.value = '';\n    }\n  };\n\n  useEffect(() => {\n    socket.on('group chat message', function (msg) {\n      setMessages((prev) => [...prev, msg]);\n    });\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <aside>\n        <ul ref={messagesRef} id=\"messages\">\n          <h2>Group chat</h2>\n        </ul>\n      </aside>\n      <section>\n        <ul ref={messagesRef} id=\"messages\">\n          {messages.map((message) => (\n            <li key={Math.ceil(Math.random() * 10000)}>{message}</li>\n          ))}\n        </ul>\n        <form id=\"form\" onSubmit={submitHandler}>\n          <input\n            placeholder=\"Enter your message\"\n            id=\"input\"\n            ref={inputRef}\n            required\n          />\n          <button>Send</button>\n        </form>\n      </section>\n    </div>\n  );\n};\n\nexport default WSgroupChat;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAO,UAAP;AACA,OAAOC,EAAP,MAAe,kBAAf,C,CAEA;;;AACA,MAAMC,GAAG,GAAG,uBAAZ;AACA,MAAMC,MAAM,GAAGF,EAAE,CAACC,GAAD,CAAjB;;AAEA,MAAME,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAMC,QAAQ,GAAGL,MAAM,EAAvB;EACA,MAAMM,WAAW,GAAGN,MAAM,EAA1B;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMU,aAAa,GAAIC,CAAD,IAAO;IAC3BA,CAAC,CAACC,cAAF;;IACA,IAAIN,QAAQ,CAACO,OAAT,CAAiBC,KAArB,EAA4B;MAC1BV,MAAM,CAACW,IAAP,CAAY,2BAAZ,EAAyCT,QAAQ,CAACO,OAAT,CAAiBC,KAA1D;MACAR,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,GAAyB,EAAzB;IACD;EACF,CAND;;EAQAf,SAAS,CAAC,MAAM;IACdK,MAAM,CAACY,EAAP,CAAU,oBAAV,EAAgC,UAAUC,GAAV,EAAe;MAC7CR,WAAW,CAAES,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAUD,GAAV,CAAX,CAAX;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAMA,oBACE;IAAK,SAAS,EAAC,WAAf;IAAA,wBACE;MAAA,uBACE;QAAI,GAAG,EAAEV,WAAT;QAAsB,EAAE,EAAC,UAAzB;QAAA,uBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAME;MAAA,wBACE;QAAI,GAAG,EAAEA,WAAT;QAAsB,EAAE,EAAC,UAAzB;QAAA,UACGC,QAAQ,CAACW,GAAT,CAAcC,OAAD,iBACZ;UAAA,UAA4CA;QAA5C,GAASC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,KAA1B,CAAT;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QADF,eAME;QAAM,EAAE,EAAC,MAAT;QAAgB,QAAQ,EAAEb,aAA1B;QAAA,wBACE;UACE,WAAW,EAAC,oBADd;UAEE,EAAE,EAAC,OAFL;UAGE,GAAG,EAAEJ,QAHP;UAIE,QAAQ;QAJV;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QANF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyBD,CA5CD;;GAAMD,W;;KAAAA,W;AA8CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}